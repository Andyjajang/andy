3008 lines (2839 sloc)
